<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Object Detection</title>
		<!-- Load p5.js first -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
		<!-- Then load ml5.js -->
		<script src="https://unpkg.com/ml5@0.12.2/dist/ml5.min.js"></script>
		<!-- Load our sketch last -->
		<script src="sketches/detect-sketch.js"></script>
		<link rel="stylesheet" href="styles/main.css">
	</head>
	<body>
		<nav class="nav-bar">
			<ul>
				<li><a href="index.html">Image Classification</a></li>
				<li><a href="objDetect.html" class="active">Object Detection</a></li>
				<li><a href="ml5.html">Image Classifier</a></li>
			</ul>
		</nav>
		<h1>Object Detection with ml5</h1>
		<div class="canvas-controls-container">
			<div id="canvas-container"></div>
			<div class="controls-panel">
				<h3>Display Controls</h3>
				<div class="toggle-control">
					<label class="switch">
						<input type="checkbox" id="toggleBoxes" checked>
						<span class="slider round"></span>
					</label>
					<span class="toggle-label">Bounding Boxes</span>
				</div>
				<div class="toggle-control">
					<label class="switch">
						<input type="checkbox" id="toggleLabels" checked>
						<span class="slider round"></span>
					</label>
					<span class="toggle-label">Labels</span>
				</div>
				<div class="toggle-control">
					<label class="switch">
						<input type="checkbox" id="toggleFPS" checked>
						<span class="slider round"></span>
					</label>
					<span class="toggle-label">FPS Counter</span>
				</div>

				<!-- Add Detection Zones section -->
				<div class="control-section">
					<h3>Detection Zones</h3>
					<div class="zone-instructions">
						Click and drag on the video to create detection zones. These zones will track objects that pass through them.
					</div>
					<div class="zone-controls">
						<button id="clearZones" class="control-button danger">Clear All Zones</button>
						<button id="exportZones" class="control-button success">Export Zone Data</button>
					</div>
				</div>
			</div>
		</div>
		<div class="content-wrapper">
			<div class="threshold-control">
				<label for="confidenceThreshold">Confidence Threshold: <span id="thresholdValue">50</span>%</label>
				<input type="range" id="confidenceThreshold" min="0" max="100" value="50" class="slider">
			</div>
			<h3>Detected Objects</h3>
			<ul id="aList"></ul>
			<button onclick="exportStatistics()" class="export-stats-btn">Export Statistics</button>

		</div>
	</body>
</html>
